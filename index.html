<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/webp" href="./sprites/emerald.webp" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ian's Jurassic Escape</title>
</head>

<body>
  <div id="game-wrapper">
    <header id="game-header">
      <h1 class="main-title">Ian's Jurassic Escape</h1>
    </header>
    <div id="scoreboard">
      <div class="score-card">
        <span class="score-label">Score</span>
        <span id="score" class="score-value">0</span>
      </div>
      <div class="score-card">
        <span class="score-label">High Score</span>
        <div class="score-value high-score-value">
          <span id="gameplay-high-score">0</span>
          <span id="high-score-new-tag" class="badge hidden">NEW!</span>
        </div>
      </div>
    </div>
    <div id="game-container">
      <canvas id="gameCanvas"></canvas>
      <div id="ui-layer">
        <div id="start-screen" class="screen">
          <button id="start-btn">Start Game</button>
          <button id="help-btn" class="secondary-btn-large">Rules & Info</button>
          <p class="start-tip">Press Space, Click, or Tap to Start</p>
          <p class="small">Avoid the DNA strands!</p>
          <p class="high-score-start">High Score: <span id="start-high-score">0</span></p>
          <button id="reset-high-score-btn" class="secondary-btn">Reset High Score</button>
        </div>
        <div id="game-over-screen" class="hidden screen">
          <h1>Extinct!</h1>
          <div id="final-stats" class="stats-container">
            <p>Score: <span id="final-score">0</span></p>
            <p>High Score: <span id="high-score">0</span></p>
          </div>
          <div id="game-stats-list" class="game-stats-list hidden">
            <!-- Dynamically populated -->
          </div>
          <button id="restart-btn">Try Again</button>
        </div>
        <div id="pause-screen" class="hidden screen">
          <h1>Paused</h1>
          <p>Press 'P' or Click below to Resume</p>
          <button id="resume-btn">Resume</button>
        </div>
        <div id="hud" class="hidden">
          <div class="hearts-container" id="hearts">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div>
          <div id="powerup-timer" class="hidden">
            <span class="timer-label">SUPER DINO</span>
            <span id="timer-seconds">0</span>s
          </div>
          <div id="combo-container" class="hidden">
            <span id="combo-text" class="combo-text">0</span>
            <span id="combo-label" class="combo-label">Combo</span>
          </div>
        </div>
        <div id="message-overlay" class="hidden">
          <h2 id="message-text"></h2>
        </div>
        <div id="debug-menu" class="hidden screen">
          <div class="debug-content">
            <h1>Debug Menu</h1>
            <div class="debug-section">
              <h3>Dinosaurs</h3>
              <div class="debug-grid" id="debug-dino-list">
                <!-- Dynamically populated -->
              </div>
            </div>
            <div class="debug-section">
              <h3>Powerups</h3>
              <div class="debug-grid">
                <button class="debug-btn" data-powerup="BONE">Mega Speed</button>
                <button class="debug-btn" data-powerup="TREX">Super T-Rex</button>
                <button class="debug-btn" data-powerup="SPINO">Super Spino</button>
                <button class="debug-btn" data-powerup="MAGNET">Magnet</button>
                <button class="debug-btn" data-powerup="HEAL">Full Heal</button>
              </div>
            </div>
            <button id="close-debug-btn" class="secondary-btn">Close</button>
          </div>
        </div>
        <div id="help-screen" class="hidden screen">
          <div class="help-content">
            <h1>Rules & Info</h1>
            <div class="help-section">
              <h3>Core Goal</h3>
              <p class="help-text">Collect <b>Golden Coins</b> and avoid the glowing <b>DNA Strands</b>! Every gate you
                pass gives you points.</p>
            </div>
            <div class="help-section">
              <h3>Combo System ‚ö°</h3>
              <p class="help-text">Maintain a series of points to increase your <b>Multiplier</b>! Hitting DNA (even as
                a Super Dino) resets your combo.</p>
              <ul class="help-list">
                <li><span class="nice">Nice!</span> (5x): 1.5x score</li>
                <li><span class="great">Great!</span> (10x): 2x score</li>
                <li><span class="amazing">Amazing!</span> (20x): 3x score</li>
                <li><span class="extinct">EXTINCT!</span> (50x): 5x score</li>
              </ul>
            </div>
            <div class="help-section">
              <h3>Evolution üß¨</h3>
              <p class="help-text">Every <b>100 points</b>, your dino evolves! Evolution restores all your hearts and
                increases the game speed.</p>
            </div>
            <button id="close-help-btn">Back to Start</button>
          </div>
        </div>
      </div>
    </div>
    <footer id="game-footer">
      <div class="instructions">
        <div class="instruction">
          <span class="key">Space / Click / Tap</span>
          <span class="desc">Jump</span>
        </div>
        <div class="instruction desktop-only">
          <span class="key">P</span>
          <span class="desc">Pause</span>
        </div>
        <div class="instruction desktop-only">
          <span class="key">R</span>
          <span class="desc">Restart</span>
        </div>
        <div class="instruction">
          <span class="key">Coins</span>
          <span class="desc">+1 pt</span>
        </div>
        <div class="instruction">
          <span class="key">Bones</span>
          <span class="desc">Mega Speed</span>
        </div>
        <div class="instruction">
          <span class="key">Gems</span>
          <span class="desc">Super Dino</span>
        </div>
      </div>
      <div id="audio-controls">
        <button id="music-toggle" class="audio-toggle">Music: On</button>
        <button id="sfx-toggle" class="audio-toggle">SFX: On</button>
      </div>
      <button id="pause-btn" class="footer-pause-btn" type="button" aria-label="Pause Game">Pause Game</button>
    </footer>
  </div>
  <script type="module" src="/src/main.ts"></script>
</body>

</html>